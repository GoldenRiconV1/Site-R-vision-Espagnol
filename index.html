<!-- <!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Traduction et Conjugaison en Espagnol</title>
    <style>
        /* Styles de la page */
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 600px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background-color: #ffffff;
        }
        h1 {
            color: #4CAF50;
            text-align: center;
        }
        .question {
            font-size: 18px;
            margin-bottom: 20px;
        }
        .textbox, .button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 16px;
            box-sizing: border-box;
        }
        .button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        .button:hover {
            background-color: #45a049;
        }
        .button-red {
            background-color: #e74c3c;
            color: white;
            cursor: pointer;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 10px;
            width: 100%;
        }
        .button-red:hover {
            background-color: #c0392b;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            background-color: #e7f3e7;
            color: #2e7d32;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test de Traduction et Conjugaison en Espagnol</h1>
        <p class="question" id="questionText">Traduisez le mot suivant en espagnol :</p>
        <div id="wordList"></div>
        <input type="text" id="userInput" class="textbox" placeholder="Entrez votre réponse ici..." onkeypress="handleKeyPress(event)">
        <button onclick="checkAnswer()" class="button">Valider</button>
        <div id="result" class="result" style="display: none;"></div>
    </div>

    <script>
        const words = [
            "La récolte", "La fleur", "Le fruit", "La cabosse de cacao", "La peste",
            "La plantation", "Le producteur", "Produire", "La forêt", "La graine (la semance)",
            "Couper", "Croître", "La croissance", "Cultiver", "La culture", "Couper à la main", "Manuellement"
        ];

        const translations = [
            "La cosecha", "La flor", "El fruto", "La mazorca de cacao", "La plaga",
            "La plantación", "El productor", "Producir", "La selva", "La semilla",
            "Cortar", "Crecer", "El crecimiento", "Cultivar", "El cultivo",
            "Recoger a mano", "Manualmente"
        ];

        const verbesAConjuger = ["Producir", "Cortar", "Crecer", "Cultivar", "Recoger"];
        const pronoms = ["yo", "tú", "él/ella", "nosotros", "vosotros", "ellos"];

        const futureEndings = {
            "yo": "é",
            "tú": "ás",
            "él/ella": "á",
            "nosotros": "emos",
            "vosotros": "éis",
            "ellos": "án"
        };

        let currentIndex = 0;
        let score = 0;
        let userAnswers = [];
        let currentExercise = 1;
        let selectedPronoun = "";
        let selectedPronouns = []; // Nouvelle liste pour enregistrer chaque pronom par question

        function displayWord() {
            if (currentExercise === 1) {
                document.getElementById("wordList").innerText = words[currentIndex];
            } else {
                selectedPronoun = pronoms[Math.floor(Math.random() * pronoms.length)];
                selectedPronouns.push(selectedPronoun); // Enregistrer le pronom pour cette question
                const infinitive = verbesAConjuger[currentIndex];
                document.getElementById("wordList").innerText = `${selectedPronoun} ${infinitive}`;
            }
            document.getElementById("userInput").value = "";
        }

        function normalize(text) {
            return text.normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim().toLowerCase().replace(/[.,;:!?\s]/g, "");
        }

        function checkAnswer() {
            const userAnswer = normalize(document.getElementById("userInput").value);

            if (currentExercise === 1) {
                const correctAnswer = normalize(translations[currentIndex]);
                userAnswers.push(document.getElementById("userInput").value);
                if (userAnswer === correctAnswer) score++;
            } else {
                const infinitive = verbesAConjuger[currentIndex];
                const correctAnswer = normalize(infinitive + futureEndings[selectedPronoun]);
                userAnswers.push(document.getElementById("userInput").value);
                if (userAnswer === correctAnswer) score++;
            }

            currentIndex++;
            if (currentIndex < (currentExercise === 1 ? words.length : verbesAConjuger.length)) {
                displayWord();
            } else {
                if (currentExercise === 1) {
                    displayResultEx1();
                } else {
                    displayResultEx2();
                }
            }
        }

        function handleKeyPress(event) {
            if (event.key === "Enter") {
                checkAnswer();
            }
        }

        function displayResultEx1() {
            const resultDiv = document.getElementById("result");
            const percentage = ((score / words.length) * 100).toFixed(2);

            resultDiv.innerHTML = `
                <p>Votre score pour l'exercice 1 est de ${percentage}% (${score}/${words.length}).</p>
                <p>Correction complète :</p>
                <ul>
                    ${words.map((word, index) => {
                        const isCorrect = normalize(userAnswers[index]) === normalize(translations[index]);
                        return `
                            <li>
                                <strong>${word} :</strong> ${translations[index]} 
                                (Votre réponse : <span style="color: ${isCorrect ? 'black' : 'red'};">
                                    ${userAnswers[index] || "pas de réponse"}
                                </span>)
                            </li>
                        `;
                    }).join('')}
                </ul>
                <button onclick="startExercise2()" class="button">Passer à l'exercice 2</button>
                <button onclick="restartTest()" class="button-red">Recommencer l'exercice 1</button>
            `;
            resultDiv.style.display = "block";
        }

        // Fonction qui met en majuscule la première lettre du pronom
        function capitalizePronoun(pronoun) {
            return pronoun.charAt(0).toUpperCase() + pronoun.slice(1); // Met la première lettre en majuscule
        }

        // Fonction pour afficher la question de l'exercice
        function displayWord() {
            const questionSection = document.getElementById("questionSection");
            const userInputSection = document.getElementById("userInputSection");

            if (currentExercise === 1) {
                // Afficher le mot en français, pas de modification nécessaire ici
                document.getElementById("wordList").innerText = words[currentIndex];
                questionSection.style.display = "block";
                userInputSection.style.display = "block";
            } else {
                // Sélectionner un pronom aléatoire parmi la liste
                selectedPronoun = pronoms[Math.floor(Math.random() * pronoms.length)];
                selectedPronouns.push(selectedPronoun); // Enregistrer le pronom pour cette question

                // Afficher le verbe à l'infinitif en minuscule et le pronom en majuscule
                const infinitive = verbesAConjuger[currentIndex];
                document.getElementById("wordList").innerText = `${capitalizePronoun(selectedPronoun)} ${infinitive.toLowerCase()}`;
                
                questionSection.style.display = "block";
                userInputSection.style.display = "block";
            }
            document.getElementById("userInput").value = "";
        }

        function startExercise2() {
            currentExercise = 2;
            currentIndex = 0;
            score = 0;
            userAnswers = [];
            selectedPronouns = []; // Réinitialiser pour l'exercice 2
            document.getElementById("result").style.display = "none";
            document.getElementById("questionText").innerText = "Conjuguez le verbe suivant au futur avec le pronom :";
            displayWord();
        }

        function displayResultEx2() {
            const resultDiv = document.getElementById("result");
            const percentage = ((score / verbesAConjuger.length) * 100).toFixed(2);

            resultDiv.innerHTML = `
                <p>Votre score pour l'exercice 2 est de ${percentage}% (${score}/${verbesAConjuger.length}).</p>
                <p>Correction complète :</p>
                <ul>
                    ${verbesAConjuger.map((verb, index) => {
                        const pronoun = selectedPronouns[index];
                        const correctAnswer = normalize(verb.toLowerCase() + futureEndings[pronoun]);
                        const isCorrect = normalize(userAnswers[index]) === correctAnswer;

                        // Appliquer capitalizePronoun au pronom
                        const capitalizedPronoun = capitalizePronoun(pronoun);

                        return `
                            <li>
                                <strong>${capitalizedPronoun} ${verb.toLowerCase()} (futur) :</strong> ${verb.toLowerCase() + futureEndings[pronoun]}
                                (Votre réponse : <span style="color: ${isCorrect ? 'black' : 'red'};">
                                    ${userAnswers[index] || "pas de réponse"}
                                </span>)
                            </li>
                        `;
                    }).join('')}
                </ul>
                <button onclick="startExercise1()" class="button">Revenir à l'exercice 1</button>
                <button onclick="startExercise2()" class="button-red">Recommencer l'exercice 2</button>
            `;
            resultDiv.style.display = "block";
        }

        function startExercise1() {
            currentExercise = 1;
            currentIndex = 0;
            score = 0;
            userAnswers = [];
            document.getElementById("result").style.display = "none";
            document.getElementById("questionText").innerText = "Traduisez le mot suivant en espagnol :";
            displayWord();
        }

        function restartTest() {
            score = 0;
            currentIndex = 0;
            userAnswers = [];
            selectedPronouns = [];
            currentExercise = 1;
            document.getElementById("result").style.display = "none";
            document.getElementById("questionText").innerText = "Traduisez le mot suivant en espagnol :";
            displayWord();
        }

        // Initialiser le test
        displayWord();
    </script>
</body>
</html> -->

<!-- dans la console :

function ajouterMot(motFr, traductionEsp) {
    words.push(motFr);
    translations.push(traductionEsp);
    console.log(`Mot ajouté : ${motFr} -> ${traductionEsp}`);
}

function ajouterVerbe(verbeEsp, conjugaisonFuture) {
    verbesAConjuger.push(verbeEsp);
    conjugationsFuture.push(conjugaisonFuture);
    console.log(`Verbe ajouté : ${verbeEsp} -> ${conjugaisonFuture} au futur`);
}

puis :

ajouterMot("nouveau mot FR", "nouveau mot ESP");
ajouterVerbe("nuevo verbo ESP", "nueva conjugación"); -->


<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Traduction et Conjugaison en Espagnol</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="container">
        <h1>Test de Traduction et Conjugaison en Espagnol</h1>
        <p class="question" id="questionText">Traduisez le mot suivant en espagnol :</p>
        <div id="wordList"></div>
        <input type="text" id="userInput" class="textbox" placeholder="Entrez votre réponse ici..." onkeypress="handleKeyPress(event)">
        <button onclick="checkAnswer()" class="button">Valider</button>
        <div id="result" class="result" style="display: none;"></div>
    </div>
    <script src="./index.js"></script>

</body>
</html>